{"version":3,"sources":["redditapi.js","index.js"],"names":["search","searchterm","sortBy","limit","fetch","concat","then","res","json","data","children","map","catch","err","console","log","_redditapi","_interopRequireDefault","require","e","__esModule","default","searchBtn","document","querySelector","searchForm","searchInput","addEventListener","preventDefault","value","searchTerm","getElementById","showAlertMessage","reddit","results","output","forEach","post","image","preview","images","source","url","title","truncateString","selftext","subreddit","score","innerHTML","message","className","div","createElement","appendChild","createTextNode","searchContainer","insertBefore","setTimeout","remove","myString","shortened","indexOf","substring"],"mappings":"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","file":"reddit-search-app.e31bb0bc.js","sourceRoot":"..","sourcesContent":["export default {\r\n    search: function(searchterm, sortBy, limit){\r\n        return fetch(`https://www.reddit.com/search.json?q=${searchterm}?limit=${limit}`)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            return data.data.children.map(data => data.data)\r\n        })\r\n        .catch(err => console.log(err))\r\n    }\r\n}","import reddit from './redditapi'\r\n\r\nconst searchBtn = document.querySelector(\".search-btn\")\r\nconst searchForm = document.querySelector(\".search-form\")\r\nconst searchInput = document.querySelector(\".search-input\")\r\nconsole.log(\"hello\")\r\nsearchForm.addEventListener(\"submit\", e => {\r\n    e.preventDefault();\r\n    console.log(\"hellop\")\r\n    const sortBy = document.querySelector(\"input[name='sort']:checked\").value;\r\n    // console.log(sortBy);\r\n    const searchTerm = searchInput.value;\r\n    const limit = document.getElementById(\"limit\").value\r\n    console.log(limit)\r\n\r\n    if (searchTerm == \"\") {\r\n        // show alert message\r\n        showAlertMessage(\"Please add a Search term\", \"alert-danger\");\r\n    }\r\n\r\n    searchInput.value = \"\";\r\n\r\n    reddit.search(searchTerm, sortBy, limit).then(results => {\r\n        console.log(results)\r\n\r\n        let output = `<div class=\"container absolute left-0 w-full min-h-screen bg-gradient-to-br  to-slate-200 p-8\">\r\n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">`\r\n        results.forEach(post => {\r\n            let image = post.preview\r\n                ? post.preview.images[0].source.url\r\n                : 'https://cdn.comparitech.com/wp-content/uploads/2017/08/reddit-1.jpg';\r\n            output += `<div class=\"bg-white shadow-lg hover:shadow-2xl transition-shadow rounded-lg overflow-hidden\">\r\n                <img class=\"w-full h-40 object-cover\"\r\n                    src=\"${image}\"\r\n                    alt=\"Card image cap\" />\r\n                <div class=\"p-5 space-y-4\">\r\n                    <h5 class=\"text-lg font-semibold text-gray-800\">${post.title}</h5>\r\n                    <p class=\"text-gray-600\">${truncateString(post.selftext, 100)}</p>\r\n                    <p class=\"text-sm text-gray-500\">\r\n                    Lorem ipsum dolor sit amet consectetur adipisicing elit.\r\n                    </p>\r\n                    <a href=\"${post.url}\" target=\"_blank\"\r\n                    class=\"inline-block bg-blue-600 text-white py-2 px-4 rounded-lg text-sm hover:bg-blue-500 transition\">Read\r\n                    More</a>\r\n                    <hr class=\"border-gray-300\" />\r\n                    <div class=\"flex justify-between text-sm\">\r\n                    <span class=\"bg-slate-100 text-slate-600 px-2 py-1 rounded-full\">Subreddit: ${post.subreddit}</span>\r\n                    <span class=\"bg-green-100 text-green-600 px-2 py-1 rounded-full\">Score: ${post.score}</span>\r\n                    </div>\r\n                </div>\r\n                </div>`\r\n        })\r\n\r\n\r\n\r\n        output += `</div>\r\n        </div>`\r\n        document.querySelector(\".result\").innerHTML = output\r\n    })\r\n\r\n})\r\n\r\n\r\nfunction showAlertMessage(message, className) {\r\n    console.log(\"alert message\")\r\n    const div = document.createElement(\"div\");\r\n    if (className == \"alert-danger\") {\r\n        div.className = `alert bg-red-400 w-[40rem] text-white text-center mb-5 rounded-xl p-[1.3rem] border border-1 border-red-700s`\r\n    }\r\n    div.appendChild(document.createTextNode(message))\r\n    const searchContainer = document.querySelector(\".search-container\");\r\n    const search = document.querySelector(\".search\");\r\n    searchContainer.insertBefore(div, search);\r\n\r\n    // setting a timeout\r\n    setTimeout(function () {\r\n        document.querySelector(\".alert\").remove();\r\n    }, 2000)\r\n}\r\n\r\n// Truncate String Function\r\nfunction truncateString(myString, limit) {\r\n    const shortened = myString.indexOf(' ', limit);\r\n    if (shortened == -1) return myString;\r\n    return myString.substring(0, shortened);\r\n  }"]}